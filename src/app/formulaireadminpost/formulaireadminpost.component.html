<div class="container">
  <form class="contour" (ngSubmit)="submit()" [formGroup]="form">
    <div class="mt-50 ml-30">
      <label class="mr-20 min">Titre</label>
      <input formControlName="title" type="text" />
      <div
        class="error"
        *ngIf="form.get('title')?.errors && form.get('title')?.touched"
      >
        Le champs est requis
      </div>
    </div>

    <div class="mt-50 ml-30">
      <label class="mr-20 min">Date</label>
      <input formControlName="date" type="date" />
      <div
        class="error"
        *ngIf="form.get('date')?.errors && form.get('date')?.touched"
      >
        La date est requise
      </div>
    </div>

    <div class="mt-50 ml-30">
      <label class="mr-20 mt-20 min">Recette ou conservation</label>
      <form [formGroup]="form">
        <select formControlName="nametype">
        <!--  <option *ngFor="let ty of type" [ngValue]="ty">
            {{ ty.nametype }}
          </option>
        -->
        <option value="CONSERVATION">CONSERVATION</option>
        <option value="RECETTE">RECETTE</option>
        </select>
      </form>
      <div
        class="error"
        *ngIf="form.get('nametype')?.errors && form.get('nametype')?.touched"
      >
        Le champs est requis
      </div>
    </div>



    <div class="mt-50 ml-30" >
      <label class="mr-20 mt-20 min">Type de card</label>
      <form [formGroup]="form">
        <select formControlName="name">
          <option class="entete" value="froid" disabled>Froid</option>
          <option *ngFor="let fr of froid" [ngValue]="fr">
            {{ fr.names }}
          </option>
          <option class="entete" value="Chaud" disabled>Chaud</option>
          <option *ngFor="let ch of chaud" [ngValue]="ch">
            {{ ch.names }}
          </option>
        </select>
      </form>
      <div
        class="error"
        *ngIf="form.get('name')?.errors && form.get('name')?.touched"
      >
        Le champs est requis
      </div>
    </div>

    <div class="mt-50 ml-30">
      <label class="mr-20 min">Catégorie</label>
      <input
        formControlName="namecategory"
        type="text"
        (change)="recuper($event)"
      />
      <div
        class="error"
        *ngIf="
          form.get('namecategory')?.errors && form.get('namecategory')?.touched
        "
      >
       Le champs est requis
      </div>
    </div>

    <div class="mt-50 ml-30">
      <label class="mr-20 min">Description</label>
      <input formControlName="content" type="text" />
      <div
        class="error"
        *ngIf="form.get('content')?.errors && form.get('content')?.touched"
      >
        La taille de texte est de 50 caractére minimum !
      </div>
    </div>

    <div class="mt-50 ml-30" formArrayName="namephoto">
      <label class="mr-20 wid" for="namephoto">photo</label>
      <input type="file" multiple (change)="selectFiles($event)" />
    </div>

    <img class="taille"
      *ngIf="form.controls.namephoto.value"
      [src]="form.controls.namephoto.value"
    />

    <button
      class="styleButtonRed marginsp"
      style="margin-top: 20px; margin-bottom: 200px"
    >
      Valider
    </button>
  </form>
</div>
